{% extends "layout.html" %}
{% block title %}Add Alias{% endblock %}
{% block content %}
<h1>Add Alias</h1>
<aside>
    <h2>When to use catch-all</h2>
    <p>Configure <code>*@domain.com</code> to collect unknown addresses, then forward them to a monitored mailbox.</p>
    <p><small>Tip: leave tracking enabled on new catch-alls for the first week.</small></p>
</aside>
<form method="post" action="/aliases">
<label>Domain<br><select name="domain_id" required>{% for d in domains %}<option value="{{ d.id }}">{{ d.domain }}</option>{% endfor %}</select></label>
<small>Select the domain this alias belongs to.</small>
<label>Source Email (what to match)<br><input type="email" name="source" placeholder="info@example.com or *@example.com" required></label>
<small>Enter the full email address (e.g., <code>info@example.com</code>) or use <code>*@domain.com</code> for a catch-all. Must match the domain selected above.</small>
<label>Destination Email (where to forward)<br><input type="email" name="destination" placeholder="user@example.com" required></label>
<small>Enter the full email address of an <strong>existing mailbox</strong> where messages should be delivered. This mailbox must already exist in the Accounts section.</small>
<label><input type="checkbox" name="tracking_enabled" value="on" checked> Enable Tracking</label>
<label>Sort Order<br><input type="number" name="sort_order" value="0"></label>
<small>Lower values are evaluated first. Aliases run in ascending order.</small>
<button type="submit">Create</button>
</form>
{% endblock %}
