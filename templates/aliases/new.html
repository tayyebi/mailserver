{% extends "layout.html" %}
{% block title %}Add Alias{% endblock %}
{% block content %}
<h1>Add Alias</h1>
<aside>
    <h2>When to use catch-all</h2>
    <p>Configure <code>*@domain.com</code> to collect unknown addresses, then forward them to a monitored mailbox.</p>
    <p><small>Tip: leave tracking enabled on new catch-alls for the first week.</small></p>
</aside>
<form method="post" action="/aliases">
<label>Source Email (what to match)<br><input type="text" name="source" placeholder="info@example.com or *@example.com" pattern="[\*]?[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" required></label>
<small>Enter the full email address (e.g., <code>info@example.com</code>) or use <code>*@domain.com</code> for a catch-all. The domain will be automatically detected from the email address and must be registered in the Domains section. More specific aliases are evaluated before catch-all patterns.</small>
<label>Destination Email (where to forward)<br><input type="text" name="destination" placeholder="user@example.com" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" required></label>
<small>Enter the full email address of an <strong>existing mailbox</strong> where messages should be delivered. This mailbox must already exist in the Accounts section.</small>
<label><input type="checkbox" name="tracking_enabled" value="on" checked> Enable Tracking</label>
<button type="submit">Create</button>
</form>
{% endblock %}
